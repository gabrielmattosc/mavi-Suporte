{% extends "base.html" %}

{% block title %}Consultar Ticket - Mavi Suporte{% endblock %}

{% block content %}
<div class="container fade-in">
    <div class="card">
        <div class="card-header">
            <h2 class="card-title">
                <i class="fas fa-search"></i>
                Consultar Tickets
            </h2>
        </div>

        <div class="card-content" style="max-width: 500px; margin: 0 auto;">
            <p style="text-align: center; color: #6c757d; margin-bottom: 2rem;">
                Digite o ID do seu ticket ou seu endereço de e-mail para ver o status e o histórico de suas solicitações.
            </p>

            <!-- O formulário agora envia para a rota 'ticket.search' com o método POST -->
            <form method="POST" action="{{ url_for('ticket.search') }}" class="search-form">
                <div class="form-group">
                    <label for="query" class="form-label">
                        <i class="fas fa-ticket-alt"></i> ID do Ticket ou E-mail
                    </label>
                    <input type="text" 
                           id="query" 
                           name="query" 
                           class="form-control" 
                           placeholder="Ex: ABC12345 ou seu.email@exemplo.com"
                           required>
                    <small style="color: #6c757d; margin-top: 0.5rem; display: block;">
                        A pesquisa por e-mail mostrará todos os tickets associados.
                    </small>
                </div>

                <button type="submit" class="btn btn-primary btn-full">
                    <i class="fas fa-search"></i>
                    Pesquisar
                </button>
            </form>
        </div>
    </div>

    <!-- As seções informativas abaixo permanecem as mesmas -->
    <div class="grid grid-2">
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-info-circle"></i> Como Consultar
                </h3>
            </div>
            <div class="card-content" style="color: #6c757d; line-height: 1.8;">
                <p><i class="fas fa-envelope icon-green"></i> <strong>ID por Email:</strong> O ID foi enviado quando você criou o ticket</p>
                <p><i class="fas fa-key icon-green"></i> <strong>Formato do ID:</strong> 8 caracteres (letras e números)</p>
                <p><i class="fas fa-history icon-green"></i> <strong>Histórico:</strong> Pesquise pelo seu e-mail para ver todos os seus tickets</p>
                <p><i class="fas fa-shield-alt icon-green"></i> <strong>Privacidade:</strong> Apenas você pode ver seus tickets</p>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3 class="card-title">
                    <i class="fas fa-question-circle"></i> Não Encontrou o ID?
                </h3>
            </div>
            <div class="card-content" style="color: #6c757d; line-height: 1.8;">
                <p><i class="fas fa-inbox icon-yellow"></i> Verifique sua caixa de entrada</p>
                <p><i class="fas fa-folder icon-yellow"></i> Confira a pasta de spam/lixo eletrônico</p>
                <p><i class="fas fa-at icon-yellow"></i> Procure por emails do nosso sistema</p>
                <p><i class="fas fa-phone icon-yellow"></i> Entre em contato conosco se necessário</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
